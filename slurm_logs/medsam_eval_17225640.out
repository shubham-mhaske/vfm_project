============================================================
SLURM Job: MedSAM Evaluation on HPRC Grace
Job ID: 17225640
Node: g064
GPU: NVIDIA A100-PCIE-40GB
Started: Fri Nov 28 14:13:27 CST 2025
============================================================

Configuration:
  Checkpoint: models/medsam_checkpoints/medsam_vit_b.pth
  Dataset: BCSS test split (45 samples)

>>> Experiment 1: MedSAM Box Prompt (baseline)
    Expected time: ~3-5 minutes on A100
Using Nvidia CUDA backend.
Loaded 45 samples from test split
Using Nvidia CUDA backend.
Using device: cuda
[MedSAM] Loading model from: /scratch/user/shubhammhaske/vfm_project/models/medsam_checkpoints/medsam_vit_b.pth
[MedSAM] Model loaded successfully on cuda

============================================================
MedSAM Evaluation
============================================================
Checkpoint: models/medsam_checkpoints/medsam_vit_b.pth
Dataset: BCSS test split (45 samples)
TTA: Disabled
============================================================


Evaluation completed in 349.1s (7.76s per sample)

============================================================
Results: Per-Class Dice Scores
============================================================
tumor          : 0.5728 ± 0.1639 (n=45)
stroma         : 0.4864 ± 0.1613 (n=45)
lymphocyte     : 0.5417 ± 0.2030 (n=37)
necrosis       : 0.6150 ± 0.1881 (n=23)
blood_vessel   : 0.4070 ± 0.1735 (n=31)
----------------------------------------
OVERALL        : 0.5219
============================================================

Metrics saved to: /scratch/user/shubhammhaske/vfm_project/results/medsam_box_baseline/metrics.json
Sample results saved to: /scratch/user/shubhammhaske/vfm_project/results/medsam_box_baseline/sample_results.json

Experiment 1 Result:
  Overall Dice: 0.5219

>>> Experiment 2: MedSAM Box Prompt + TTA
    Expected time: ~10-15 minutes on A100 (4x augmentations)
Using Nvidia CUDA backend.
Loaded 45 samples from test split
Using Nvidia CUDA backend.
Using device: cuda
[MedSAM] Loading model from: /scratch/user/shubhammhaske/vfm_project/models/medsam_checkpoints/medsam_vit_b.pth
[MedSAM] Model loaded successfully on cuda

============================================================
MedSAM Evaluation
============================================================
Checkpoint: models/medsam_checkpoints/medsam_vit_b.pth
Dataset: BCSS test split (45 samples)
TTA: Enabled
============================================================

